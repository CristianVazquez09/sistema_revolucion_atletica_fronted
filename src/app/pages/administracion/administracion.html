<!-- Wrapper común con padding inferior consistente -->
<div class="mx-4 lg:mx-8 pt-4 pb-10">

  @if (mostrarTarjetas) {

  <!-- Encabezado del grid -->
  <div class="my-4 flex items-center justify-between">
    <h1 class="text-2xl font-bold text-[color:var(--color-ra-slate)]">
      {{ sectionTitle }}
    </h1>
  </div>

  <!-- Grid de tarjetas (más compacto) -->
  <div class="
        admin-grid grid
        gap-3 sm:gap-3.5
        grid-cols-1
        sm:grid-cols-2
        md:grid-cols-3
        lg:grid-cols-3
        xl:grid-cols-4
      ">
    @for (c of cards; track c.key) {
    <a [routerLink]="c.ruta" [attr.aria-label]="c.titulo" class="
            group rounded-2xl bg-[color:var(--color-ra-white)]
            ring-1 ring-black/10 shadow-card
            p-2.5 sm:p-3
            flex flex-col justify-between
            hover:-translate-y-0.5 transition-all duration-150
            hover:shadow-lg focus:outline-none focus-visible:ring-2
            focus-visible:ring-[color:var(--color-ra-azul-fuerte)]

            /* Más bajitas (menos alto) */
            aspect-[5/3]
            xl:aspect-[4/3]
          ">
      <!-- Icono -->
      <div class="flex items-center justify-between">
        <div class="
                rounded-xl grid place-items-center
                size-10 sm:size-11
              " [ngClass]="c.iconBg">
          @switch (c.key) {
          @case ('membresias') {
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-5 h-5 text-blue-700">
            <rect x="3" y="5" width="18" height="14" rx="2" ry="2" stroke-width="1.8"></rect>
            <path d="M7 9h10M7 13h6" stroke-width="1.8" stroke-linecap="round"></path>
          </svg>
          }
          @case ('cortes') {
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-5 h-5 text-rose-700">
            <rect x="3" y="4" width="18" height="12" rx="2" ry="2" stroke-width="1.8"></rect>
            <path d="M7 16v2a2 2 0 0 0 2 2h6" stroke-width="1.8"></path>
            <circle cx="12" cy="10" r="2" stroke-width="1.8"></circle>
          </svg>
          }
          @case ('ventas') {
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-5 h-5 text-emerald-700">
            <rect x="3" y="4" width="18" height="12" rx="2" ry="2" stroke-width="1.8"></rect>
            <path d="M7 16v2a2 2 0 0 0 2 2h6" stroke-width="1.8"></path>
            <circle cx="12" cy="10" r="2" stroke-width="1.8"></circle>
          </svg>
          }
          @case ('gimnasios') {
          <svg viewBox="0 0 24 24" class="w-5 h-5 text-indigo-700" fill="none" stroke="currentColor">
            <path d="M3 21h18M6 21V5h6v16M12 9h6v12" stroke-width="1.8"></path>
          </svg>
          }
          @case ('estadisticas') {
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-5 h-5 text-amber-700">
            <path d="M4 19V5" stroke-width="1.8" stroke-linecap="round"></path>
            <rect x="6.5" y="10" width="3" height="9" rx="1" stroke-width="1.8"></rect>
            <rect x="11.5" y="7" width="3" height="12" rx="1" stroke-width="1.8"></rect>
            <rect x="16.5" y="12" width="3" height="7" rx="1" stroke-width="1.8"></rect>
          </svg>
          }
          @case ('usuarios') {
          <svg viewBox="0 0 24 24" class="w-5 h-5 text-slate-700" fill="none" stroke="currentColor">
            <circle cx="9" cy="8" r="3" stroke-width="1.8"></circle>
            <path d="M14 14a5 5 0 0 0-10 0" stroke-width="1.8" stroke-linecap="round"></path>
            <circle cx="17" cy="8" r="3" stroke-width="1.8"></circle>
            <path d="M22 14a5 5 0 0 0-7 0" stroke-width="1.8" stroke-linecap="round"></path>
          </svg>
          }
          @case ('asesoriasNutri') {
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-5 h-5 text-lime-700">
            <path d="M4 21h16" stroke-width="1.8" stroke-linecap="round"></path>
            <path d="M7 20V7a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v13" stroke-width="1.8"></path>
            <path d="M9 10h6M9 13h6M9 16h6" stroke-width="1.8" stroke-linecap="round"></path>
          </svg>
          }
@case ('promociones') {
  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-5 h-5 text-fuchsia-700">
    <path d="M20 12a8 8 0 1 1-16 0a8 8 0 0 1 16 0Z" stroke-width="1.8"></path>
    <path d="M8 12h8" stroke-width="1.8" stroke-linecap="round"></path>
    <path d="M12 8v8" stroke-width="1.8" stroke-linecap="round"></path>
  </svg>
}



          @default {
          <svg viewBox="0 0 24 24" class="w-5 h-5 text-slate-700" fill="none" stroke="currentColor">
            <rect x="4" y="4" width="16" height="16" rx="2" stroke-width="1.8"></rect>
          </svg>
          }
          }
        </div>

        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"
          class="w-4 h-4 text-slate-400 transition-transform duration-150 group-hover:translate-x-0.5">
          <path d="M9 18l6-6-6-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
        </svg>
      </div>

      <!-- Texto -->
      <div>
        <div class="mt-2 text-[15px] sm:text-base font-bold tracking-tight text-[color:var(--color-ra-slate)]">
          {{ c.titulo }}
        </div>
        <div class="text-xs text-[color:var(--color-ra-slate)]/70 line-clamp-2">
          {{ c.descripcion }}
        </div>
      </div>
    </a>
    }
  </div>
  }

  @if (!mostrarTarjetas) {
  <!-- Encabezado hijo + Regresar -->
  <div class="mt-4 mb-2 flex items-center gap-3">
    <button type="button" (click)="regresar()"
      class="inline-flex items-center gap-2 rounded-md border border-neutral-300 px-3 py-1.5 text-sm bg-ra-rojo hover:bg-ra-rojo-oscuro text-white">
      <svg viewBox="0 0 24 24" class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
      </svg>
      Regresar
    </button>

    <h2 class="text-xl font-semibold text-ra-slate">{{ sectionTitle }}</h2>
  </div>

  <router-outlet />
  }
</div>